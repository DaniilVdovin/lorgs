{% set fight_duration = fight.duration / 250 %}
<div class="player_timeline" style="width: {{fight_duration + 100}}px" data-source_id={{player.source_id}}>

    <!-- Casts -->
    <div class="cast_container inner_shadow" style="width: {{fight_duration}}px">
    {% for cast in player.casts %}
        {% set spell = cast.spell %}
        <div class="cast" data-spell_id="{{spell.spell_id}}" style="left: {{cast.time/250}}px{{'; display: none' if not spell.show}}">
            {% if spell.cooldown %}
                <div class="cast_cooldown" style="width: {{spell.cooldown * 4}}px; background-color: {{spell.color}}"></div>
            {% endif %}
            {% if spell.duration %}
                <div class="cast_duration" style="width: {{spell.duration * 4}}px; background-color: {{spell.color}}"></div>
            {% endif %}
            {% if spell.icon_path %}
                <img class="cast_icon" src="{{cast.spell.icon_path}}">
            {% endif %}
            {% if cast.time %}
                <span class="cast_text">{{cast.time|format_time}}</span>
            {% endif %}
        </div>
    {% endfor %}
    </div>
    {% if inline_killtime %}
    <div class="fight_killtime">
        <i class="fas fa-skull-crossbones"></i> {{fight.duration|format_time}}
    </div>
    {% endif %}
</div>
